define(["constants"],function(i){return function(t){this.x=i.HORIZONTAL_CENTER_OF_FIELD,this.y=i.VERTICAL_CENTER_OF_FIELD,this.horizontalVelocity=i.STOPPED,this.verticalVelocity=i.STOPPED,this.radius=i.BALL_RADIUS,this.color=t,this.draw=function(){i.CONTEXT.fillStyle=this.color,i.CONTEXT.beginPath(),i.CONTEXT.arc(this.x,this.y,this.radius,i.BALL_START_ANGLE,i.BALL_END_ANGLE),i.CONTEXT.fill()},this.updatePosition=function(t,s){this.x+=this.horizontalVelocity/i.FPS,this.y+=this.verticalVelocity/i.FPS,this.y-this.radius<i.TOP_WALL&&(this.y=this.radius,this.verticalVelocity=-this.verticalVelocity),this.y+this.radius>i.BOTTOM_WALL&&(this.y=i.BOTTOM_WALL-this.radius,this.verticalVelocity=-this.verticalVelocity),this.x+this.radius>t.x&&this.y>t.y&&this.y<t.y+t.height&&(this.x=t.x-this.radius,this.horizontalVelocity=-this.horizontalVelocity),this.x+this.radius>t.x&&this.y+this.radius>t.y&&this.y+this.radius<t.y+t.height&&(this.y=t.y-this.radius,this.verticalVelocity=-this.verticalVelocity),this.x+this.radius>t.x&&this.y-this.radius<t.y+t.height&&this.y-this.radius>t.y&&(this.y=t.y+t.height+this.radius,this.verticalVelocity=-this.verticalVelocity),this.x-this.radius<s.x+s.width&&this.y>s.y&&this.y<s.y+s.height&&(this.x=s.x+s.width+this.radius,this.horizontalVelocity=-this.horizontalVelocity),this.x-this.radius<s.x+s.width&&this.y+this.radius>s.y&&this.y+this.radius<s.y+s.height&&(this.y=s.y-this.radius,this.verticalVelocity=-this.verticalVelocity),this.x-this.radius<s.x+s.width&&this.y-this.radius<s.y+s.height&&this.y-this.radius>s.y&&(this.y=s.y+s.height+this.radius,this.verticalVelocity=-this.verticalVelocity),this.x-this.radius>i.RIGHT_WALL&&(this.x=i.HORIZONTAL_CENTER_OF_FIELD,this.y=i.VERTICAL_CENTER_OF_FIELD,s.score++),this.x+this.radius<i.LEFT_WALL&&(this.x=i.HORIZONTAL_CENTER_OF_FIELD,this.y=i.VERTICAL_CENTER_OF_FIELD,t.score++)}}});